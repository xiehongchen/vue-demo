{"version":3,"file":"index-BJS7j82n.js","sources":["../../src/views/tags/index.vue"],"sourcesContent":["<template>\r\n  <div class=\"blog-label\">\r\n    <div class=\"label-title\">标签</div>\r\n    <div class=\"container\">\r\n      <div class=\"tag-box\" ref=\"tagBox\"></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { tagList } from '../data.ts'\r\nconst tagBox: Ref<HTMLElement | null> = ref(null)\r\nnextTick(() => {\r\n  tagList.forEach((item: any) => {\r\n    const div = document.createElement('div')\r\n    div.textContent = item.title\r\n    div.style.fontSize = `${item.data.length + 10}px`\r\n    div.style.color = getRandomColor()\r\n    div.style.position = 'absolute'\r\n    div.style.cursor = 'pointer'\r\n    div.classList.add('item')\r\n    div.onclick = () => {\r\n      console.log('item', item)\r\n    }\r\n    tagBox.value?.appendChild(div)\r\n\r\n    setTimeout(() => {\r\n      setRandomPosition(div)\r\n    }, 0)\r\n  })\r\n})\r\n\r\n// 随机生成颜色\r\nfunction getRandomColor() {\r\n  return '#' + Math.random().toString(16).slice(2, 8)\r\n}\r\n// 随机生成位置\r\nfunction setRandomPosition(element: HTMLElement) {\r\n  if (!tagBox.value) return\r\n  const containerWidth = tagBox.value.offsetWidth\r\n  const containerHeight = tagBox.value.offsetHeight\r\n  const elementWidth = element.offsetWidth\r\n  const elementHeight = element.offsetHeight\r\n\r\n  // 计算可用的最大左偏移和上偏移\r\n  const maxLeft = containerWidth - elementWidth\r\n  const maxTop = containerHeight - elementHeight\r\n\r\n  // 生成随机的左偏移和上偏移，并确保不超出边界\r\n  const randomLeft = Math.max(0, Math.min(maxLeft, Math.random() * maxLeft))\r\n  const randomTop = Math.max(0, Math.min(maxTop, Math.random() * maxTop))\r\n\r\n  element.style.left = `${randomLeft}px`\r\n  element.style.top = `${randomTop}px`\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.blog-label {\r\n  background-color: #fff;\r\n  box-sizing: border-box;\r\n  height: 80%;\r\n  margin: 20px;\r\n  padding: 5px;\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  .label-title {\r\n    text-align: center;\r\n    font-size: 20px;\r\n    font-weight: 600;\r\n    margin-bottom: 10px;\r\n  }\r\n\r\n  .container {\r\n    flex: 1;\r\n    .tag-box {\r\n      width: 100%;\r\n      height: 100%;\r\n      position: relative;\r\n    }\r\n  }\r\n}\r\n</style>"],"names":["tagBox","ref","nextTick","tagList","forEach","item","div","document","createElement","textContent","title","style","fontSize","data","length","color","Math","random","toString","slice","position","cursor","classList","add","onclick","_a","value","appendChild","setTimeout","element","containerWidth","offsetWidth","containerHeight","offsetHeight","elementWidth","elementHeight","maxLeft","maxTop","randomLeft","max","min","randomTop","left","top","setRandomPosition"],"mappings":"yUAWM,MAAAA,EAAkCC,EAAI,aAC5CC,GAAS,KACCC,EAAAC,SAASC,UACT,MAAAC,EAAMC,SAASC,cAAc,OACnCF,EAAIG,YAAcJ,EAAKK,MACvBJ,EAAIK,MAAMC,SAAW,GAAGP,EAAKQ,KAAKC,OAAS,OACvCR,EAAAK,MAAMI,MAiBL,IAAMC,KAAKC,SAASC,SAAS,IAAIC,MAAM,EAAG,GAhB/Cb,EAAIK,MAAMS,SAAW,WACrBd,EAAIK,MAAMU,OAAS,UACff,EAAAgB,UAAUC,IAAI,QAClBjB,EAAIkB,QAAU,KACY,EAEnB,OAAAC,EAAAzB,EAAA0B,UAAOC,YAAYrB,GAE1BsB,YAAW,MAWf,SAA2BC,GACzB,IAAK7B,EAAO0B,MAAO,OACb,MAAAI,EAAiB9B,EAAO0B,MAAMK,YAC9BC,EAAkBhC,EAAO0B,MAAMO,aAC/BC,EAAeL,EAAQE,YACvBI,EAAgBN,EAAQI,aAGxBG,EAAUN,EAAiBI,EAC3BG,EAASL,EAAkBG,EAG3BG,EAAatB,KAAKuB,IAAI,EAAGvB,KAAKwB,IAAIJ,EAASpB,KAAKC,SAAWmB,IAC3DK,EAAYzB,KAAKuB,IAAI,EAAGvB,KAAKwB,IAAIH,EAAQrB,KAAKC,SAAWoB,IAEvDR,EAAAlB,MAAM+B,KAAO,GAAGJ,MAChBT,EAAAlB,MAAMgC,IAAM,GAAGF,KACzB,CA3BMG,CAAkBtC,EAAG,GACpB,EAAC,GACL"}