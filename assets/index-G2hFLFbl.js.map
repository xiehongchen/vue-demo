{"version":3,"file":"index-G2hFLFbl.js","sources":["../../src/views/category/index.vue"],"sourcesContent":["<template>\r\n  <a-collapse v-model:activeKey=\"activeKey\">\r\n    <a-collapse-panel v-for=\"item, index in result\" :key=\"index\" :header=\"item.title\">\r\n      <div v-for=\"info in item.data\" :key=\"info.title\" @click=\"goDoc(info)\">\r\n        {{ info.title }}\r\n      </div>\r\n    </a-collapse-panel>\r\n  </a-collapse>\r\n</template>\r\n<script lang=\"ts\" setup>\r\nimport data from '../data.json'\r\nimport { useRouter } from 'vue-router';\r\nimport { useArticle } from '@/store/article'\r\nconst article = useArticle()\r\nconst router = useRouter()\r\nconst temp = new Set(...data.map(item => item.category))\r\nconst array = Array.from(temp, title => ({ title, data: [] }))\r\nconsole.log('123', temp, array)\r\nconst goDoc = (item: { title: string }) => {\r\n  article.info = item\r\n  router.push({ name: 'doc', params: { name: item.title } })\r\n}\r\n// const text = `A dog is a type of domesticated animal.Known for its loyalty and faithfulness,it can be found as a welcome guest in many households across the world.`;\r\nconst activeKey = ref(['1']);\r\ninterface Item {\r\n    title: string;\r\n    date: string;\r\n    updateDate: string;\r\n    tags: string[];\r\n    summary: string;\r\n    category: string[];\r\n    image: string;\r\n}\r\n\r\ninterface CategoryData {\r\n    title: string;\r\n    data: Item[];\r\n}\r\nconst result: CategoryData[] = data.reduce<CategoryData[]>((acc, item) => {\r\n    item.category.forEach(category => {\r\n        const existingCategory = acc.find(c => c.title === category);\r\n        if (existingCategory) {\r\n            existingCategory.data.push(item);\r\n        } else {\r\n            acc.push({ title: category, data: [item] });\r\n        }\r\n    });\r\n    return acc;\r\n}, []);\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.ant-collapse {\r\n  margin: 20px;\r\n  :deep(.ant-collapse-content) {\r\n    background: transparent;\r\n  }\r\n}\r\n</style>"],"names":["article","useArticle","router","useRouter","temp","Set","data","map","item","category","activeKey","Array","from","title","ref","result","reduce","acc","forEach","existingCategory","find","c","push","info","name","params"],"mappings":"oSAaA,MAAMA,EAAUC,IACVC,EAASC,IACTC,EAAO,IAAIC,OAAOC,EAAKC,KAAIC,GAAQA,EAAKC,YAQxCC,GAPQC,MAAMC,KAAKR,GAAMS,IAAU,CAAEA,QAAOP,KAAM,OAOtCQ,EAAI,CAAC,OAejBC,EAAyBT,EAAKU,QAAuB,CAACC,EAAKT,KACxDA,EAAAC,SAASS,SAAoBT,IAC9B,MAAMU,EAAmBF,EAAIG,MAAUC,GAAAA,EAAER,QAAUJ,IAC/CU,EACiBA,EAAAb,KAAKgB,KAAKd,GAEvBS,EAAAK,KAAK,CAAET,MAAOJ,EAAUH,KAAM,CAACE,IACvC,IAEGS,IACR,8TA9BW,CAACT,IACbR,EAAQuB,KAAOf,EACRN,EAAAoB,KAAK,CAAEE,KAAM,MAAOC,OAAQ,CAAED,KAAMhB,EAAKK,QAAS"}