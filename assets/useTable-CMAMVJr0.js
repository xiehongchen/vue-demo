import{u as a}from"./index-BI_Yi6El.js";import{U as e,a4 as t,p as n}from"./vendor-bZbVrpZz.js";function r(e){return a.get({url:"/person/list",params:e})}function o(a,r){const{formatResult:o,onSuccess:i,immediate:g}=r||{},{pagination:u,setTotal:s,changeCurrent:c,changePageSize:l}=function(a,n={defaultPageSize:10}){const r=e({showPageSize:!0,showTotal:!0,current:1,pageSize:n.defaultPageSize,total:0,onChange:e=>{r.current=e,a&&a()},onPageSizeChange:e=>{r.current=1,r.pageSize=e,a&&a()}}),o=r.onChange,i=r.onPageSizeChange,{current:g,pageSize:u,total:s}=t(r);return{current:g,pageSize:u,total:s,pagination:r,changeCurrent:o,changePageSize:i,setTotal:function(a){r.total=a}}}((()=>S())),p=n(!1),z=n([]),S=async()=>{try{p.value=!0;const e=await a({page:u.current,size:u.pageSize});z.value=o?o(e.data.records):e.data.records,s(e.data.total),i&&i()}finally{p.value=!1}};return(g??!0)&&S(),{loading:p,tableData:z,getTableData:S,changeCurrent:c,changePageSize:l,pagination:u}}export{r as g,o as u};
//# sourceMappingURL=useTable-CMAMVJr0.js.map
