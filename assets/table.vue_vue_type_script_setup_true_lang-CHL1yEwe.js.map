{"version":3,"file":"table.vue_vue_type_script_setup_true_lang-CHL1yEwe.js","sources":["../../src/views/table.vue"],"sourcesContent":["<template>\n  <div>\n    <h1>表格封装</h1>\n    <el-table v-loading=\"loading\" :data=\"tableData\" style=\"width: 100%\" border>\n      <el-table-column prop=\"date\" label=\"Date\" width=\"180\" />\n      <el-table-column prop=\"name\" label=\"Name\" width=\"180\" />\n      <el-table-column prop=\"address\" label=\"Address\" />\n    </el-table>\n    <el-pagination\n      background \n      layout=\"prev, pager, next\" \n      :total=\"pagination.total\" \n      v-model:page-size=\"pagination.pageSize\"\n      v-model:current-page=\"pagination.current\"\n      @current-change=\"changeCurrent\"\n      @size-change=\"changePageSize\" />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { getPersonList } from '@/apis'\nimport useTable from '@/hooks/useTable'\nimport { reactive } from 'vue';\n\nconst form = reactive({\n  name: '',\n  status: ''\n})\nconst { loading, tableData, getTableData, pagination, changeCurrent, changePageSize } = useTable(\n  (pagin) => getPersonList({ ...form, current: pagin.page, pageSize: pagin.size }),\n  { immediate: true, formatResult: (data: any[]) => data.map((i) => ({ ...i, isEdit: false })) }\n)\nconsole.log('useTable>>>>>', loading)\nconsole.log('tableData>>>>>', tableData)\nconsole.log('getTableData>>>>', getTableData)\nconsole.log('pagination>>>>', pagination)\n\nwatch(loading, (newVal) => {\n  console.log('loading>>>>', newVal)\n})\n\n</script>\n\n<style lang=\"scss\" scoped>\n\n</style>"],"names":["form","reactive","name","status","loading","tableData","getTableData","pagination","changeCurrent","changePageSize","useTable","pagin","getPersonList","current","page","pageSize","size","immediate","formatResult","data","map","i","isEdit","watch","newVal"],"mappings":"yPAwBA,MAAMA,EAAOC,EAAS,CACpBC,KAAM,GACNC,OAAQ,MAEJC,QAAEA,EAASC,UAAAA,EAAAC,aAAWA,aAAcC,EAAYC,cAAAA,EAAAC,eAAeA,GAAmBC,GACrFC,GAAUC,EAAc,IAAKZ,EAAMa,QAASF,EAAMG,KAAMC,SAAUJ,EAAMK,QACzE,CAAEC,WAAW,EAAMC,aAAeC,GAAgBA,EAAKC,KAAKC,IAAA,IAAYA,EAAGC,QAAQ,eAO/EC,EAAAnB,GAAUoB,IACmB"}