{"version":3,"file":"index-CnYSlwHJ.js","sources":["../../src/views/article/index.vue"],"sourcesContent":["<template>\r\n  <div class=\"flex box\">\r\n    <div class=\"info flex-column flex-row-center flex-col-center\">\r\n      <div class=\"flex flex-col-center\">\r\n        <CalendarFilled style=\"font-size: 15px\" />\r\n        <!-- 创建时间 -->\r\n        <div class=\"m-5\">{{ info.date }}</div>\r\n        <EditFilled style=\"font-size: 15px\" />\r\n        <!-- 更新时间 -->\r\n        <div class=\"m-5\">{{ info.updateDate }}</div>\r\n      </div>\r\n      <div class=\"flex flex-col-center\">\r\n        <TagFilled style=\"font-size: 15px\" />\r\n        <!-- 标签 -->\r\n        <div class=\"m-5\" v-for=\"tag in info.tags\" :key=\"tag\">{{ tag }}</div>\r\n        <AppstoreFilled style=\"font-size: 15px\" />\r\n        <!-- 分类 -->\r\n        <div class=\"m-5\" v-for=\"cate in info.category\" :key=\"cate\">{{ cate }}</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <MdPreview class=\"preview\" :modelValue=\"state.text\" :editorId=\"state.id\" />\r\n  <MdCatalog class=\"catelog\" :editorId=\"state.id\" :scrollElement=\"scrollElement\" :theme=\"state.theme\" />\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { CalendarFilled, TagFilled, AppstoreFilled, EditFilled } from '@ant-design/icons-vue'\r\nimport { MdPreview, MdCatalog } from \"md-editor-v3\";\r\nimport \"md-editor-v3/lib/preview.css\";\r\nimport { useRoute } from \"vue-router\";\r\nimport { useArticle } from '@/store/article'\r\nconst article = useArticle()\r\nconsole.log('article', article.info)\r\nconst info: any = article.info\r\nconst route = useRoute();\r\nconst currentName: ComputedRef = computed(() => {\r\n  return route.params.name;\r\n});\r\n\r\nexport type Themes = 'light' | 'dark';\r\nconst state = reactive({\r\n  theme: \"dark\" as Themes,\r\n  text: '',\r\n  id: \"editor\",\r\n});\r\nwatchEffect(() => {\r\n  if (route.path.startsWith(\"/doc/\")) {\r\n    // import(/* @vite-ignore */ \"../markdown/\" + currentName.value + \".md?raw\")\r\n    //   .then((e) => {\r\n    //     state.text = e.default;\r\n    //   })\r\n    //   .catch(() => {});\r\n\r\n    const mrk = new Request(\"markdown/\" + currentName.value + \".md\");\r\n    fetch(mrk)\r\n      .then((response) => {\r\n        return response.text();\r\n      })\r\n      .then((text) => {\r\n        state.text = text.replace(/---[\\s\\S]*?---/, '')\r\n      });\r\n  }\r\n});\r\n\r\nconst scrollElement = document.documentElement;\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.box {\r\n  width: calc(100% - 200px);\r\n  box-sizing: border-box;\r\n  padding: 10px 20px;\r\n  .info {\r\n    margin: 0 auto;\r\n    color: #FFF;\r\n    font-size: 20px;\r\n    width: 80%;\r\n    padding: 10px 20px;\r\n    .m-5 {\r\n      margin: 5px 20px 5px 10px;\r\n    }\r\n  }\r\n}\r\n\r\n:deep(.md-editor-preview-wrapper) {\r\n  display: flex;\r\n  justify-content: center;\r\n  width: calc(100% - 200px);\r\n\r\n  .md-editor-preview {\r\n    background-color: #FFF;\r\n    width: 70%;\r\n    padding: 20px;\r\n    box-shadow: 0 12px 15px 0 rgba(0, 0, 0, 0.24), 0 17px 50px 0 rgba(0, 0, 0, 0.19);\r\n  }\r\n}\r\n.preview  {\r\n  background: transparent;\r\n}\r\n\r\n.catelog {\r\n  position: fixed;\r\n  background-color: #FFF;\r\n  right: 0;\r\n  top: 200px;\r\n  width: 200px;\r\n  padding: 20px;\r\n  height: 80%;\r\n  overflow: auto;\r\n}\r\n\r\n</style>\r\n"],"names":["info","useArticle","route","useRoute","currentName","computed","params","name","state","reactive","theme","text","id","watchEffect","path","startsWith","mrk","Request","value","fetch","then","response","replace","scrollElement","document","documentElement"],"mappings":"wcA+BA,MAEMA,EAFUC,IAEUD,KACpBE,EAAQC,IACRC,EAA2BC,GAAS,IACjCH,EAAMI,OAAOC,OAIhBC,EAAQC,EAAS,CACrBC,MAAO,OACPC,KAAM,GACNC,GAAI,WAENC,GAAY,KACV,GAAIX,EAAMY,KAAKC,WAAW,SAAU,CAOlC,MAAMC,EAAM,IAAIC,QAAQ,YAAcb,EAAYc,MAAQ,OAC1DC,MAAMH,GACHI,MAAMC,GACEA,EAASV,SAEjBS,MAAMT,IACLH,EAAMG,KAAOA,EAAKW,QAAQ,iBAAkB,GAAE,GAEpD,KAGF,MAAMC,EAAgBC,SAASC"}